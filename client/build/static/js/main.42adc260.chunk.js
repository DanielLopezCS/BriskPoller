(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{199:function(e,t,a){e.exports=a(365)},204:function(e,t,a){},205:function(e,t,a){},342:function(e,t,a){},365:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(56),r=a.n(o),i=(a(204),a(16)),c=a(17),s=a(19),u=a(18),p=a(20),m=(a(205),a(384)),h=a(385),d=a(25),v=a(39),E=a(168),f={},b=a(48),g={loading:!1},y=Object(v.c)({error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":return t.payload;default:return e}},polls:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_POLLS":return Object(b.a)({},e,{polls:t.payload});case"GET_POLL":case"PUT_VOTE":case"POST_POLL":return Object(b.a)({},e,{poll:t.payload});case"GET_CHECK":return Object(b.a)({},e,{available:t.payload});case"GET_SHOWCASE":return Object(b.a)({},e,{polls:t.payload});default:return e}}}),O=[E.a],j=Object(v.e)(y,{},Object(v.d)(v.a.apply(void 0,O))),C=a(386),P=a(387),k=a(388),w=a(389),S=a(188),R=a(383),T=a(61),I=a(374),_=function(e){var t=e.animation,a=e.direction,n=e.visible;return l.a.createElement(C.a,{as:P.a,animation:t,direction:a,visible:n},l.a.createElement(k.a,{textAlign:"center"},l.a.createElement(k.a.Row,{columns:1},l.a.createElement(k.a.Column,null,l.a.createElement(w.a,{as:"h3"},"New Content Awaits"))),l.a.createElement(k.a,{columns:3,divided:!0},l.a.createElement(k.a.Column,null,l.a.createElement(S.a,{src:"https://react.semantic-ui.com/images/wireframe/media-paragraph.png"})),l.a.createElement(k.a.Column,null,l.a.createElement(S.a,{src:"https://react.semantic-ui.com/images/wireframe/media-paragraph.png"})),l.a.createElement(k.a.Column,null,l.a.createElement(S.a,{src:"https://react.semantic-ui.com/images/wireframe/media-paragraph.png"})))))},x=function(e){var t=e.animation,a=e.direction,n=e.visible;return l.a.createElement(C.a,{as:R.a,animation:t,direction:a,icon:"labeled",inverted:!0,vertical:!0,visible:n,width:"thin"},l.a.createElement(R.a.Item,{as:I.a,to:"/"},l.a.createElement(T.a,{name:"images",color:"orange",size:"huge"}),l.a.createElement("span",{style:{color:"orange"}},"BriskPoll")),l.a.createElement(R.a.Item,{as:I.a,to:"/create"},l.a.createElement(T.a,{name:"pen square"}),"Create Poll"),l.a.createElement(R.a.Item,{as:I.a,to:"/polls"},l.a.createElement(T.a,{name:"align center"}),"View Polls"),l.a.createElement(R.a.Item,{as:I.a,to:"/"},l.a.createElement(T.a,{name:"code"}),"Source Code"))},A=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={animation:"push",direction:"left",dimmed:!1,visible:!0},a.handleAnimationChange=function(e){return function(){return a.setState(function(t){return{animation:e,visible:!t.visible}})}},a.handleDimmedChange=function(e,t){var n=t.checked;return a.setState({dimmed:n})},a.handleDirectionChange=function(e){return function(){return a.setState({direction:e,visible:!1})}},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.animation,a=e.dimmed,n=e.direction,o=e.visible,r="bottom"===n||"top"===n;return l.a.createElement("div",null,l.a.createElement(C.a.Pushable,{as:P.a,style:{height:"150vh"}},r?l.a.createElement(_,{animation:t,direction:n,visible:o}):null,r?null:l.a.createElement(x,{animation:t,direction:n,visible:o}),l.a.createElement(C.a.Pusher,{dimmed:a&&o},l.a.createElement(P.a,{basic:!0},this.props.children))))}}]),t}(n.Component),W=a(42),G=a.n(W);G.a.defaults.baseURL="https://briskpoller.herokuapp.com/";var L=function(){return function(e){G.a.get("/api/polls/").then(function(t){return e({type:"GET_POLLS",payload:t.data})}).catch(function(t){return e({type:"GET_ERRORS",payload:"No polls available."})})}},H=function(e){return function(t){G.a.get("api/polls/".concat(e)).then(function(e){return t({type:"GET_POLL",payload:e.data})}).catch(function(e){return t({type:"GET_ERRORS",payload:"No poll with that id."})})}},N=function(e){return function(t){G.a.get("api/polls/check/".concat(e)).then(function(e){return t({type:"GET_CHECK",payload:e.data})}).catch(function(e){return t({type:"GET_ERRORS",payload:"No poll with that id."})})}},z=a(380),B=a(375),M=function(){return l.a.createElement(z.a,{active:!0,inverted:!0},l.a.createElement(B.a,{style:{marginTop:"25vh"},inverted:!0,size:"huge",content:"Loading..."}))},D=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={loading:!0},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.props.getShowcase()}},{key:"componentWillReceiveProps",value:function(e){e.polls&&this.setState({loading:!1})}},{key:"render",value:function(){return l.a.createElement("div",null,this.state.loading?l.a.createElement(M,null):l.a.createElement("div",null,l.a.createElement(w.a,{as:"h3"},"Showcased Polls"),this.props.polls.polls&&this.props.polls.polls.splice(0,15).map(function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(I.a,{to:"/poll/"+e._id},l.a.createElement(P.a,{raised:!0,color:"orange",inverted:!0,size:"huge",style:{marginTop:"15px"},id:e._id},e.title)))})))}}]),t}(n.Component),F=Object(d.b)(function(e){return{polls:e.polls}},{getPolls:L,getShowcase:function(){return function(e){G.a.get("/api/polls/showcase").then(function(t){return e({type:"GET_SHOWCASE",payload:t.data})}).catch(function(t){return e({type:"GET_ERRORS",payload:"No polls available."})})}}})(D),V=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(A,null,l.a.createElement(F,null)))}}]),t}(n.Component),Q=a(60),q=a(376),U=a(378),J=a(377),K=a(382),Y=(a(342),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={title:"",options:[""],size:0,public:!1},a.handleToggle=function(){a.state.public?a.setState({public:!1}):a.setState({public:!0})},a.handleText=function(e){return function(t){var n=Object(Q.a)(a.state.options);n[e]=t.target.value,a.setState({options:n})}},a.handleTitle=function(e){a.setState({title:e.target.value})},a.handleDelete=function(e){return function(t){t.preventDefault();var n=[].concat(Object(Q.a)(a.state.options.slice(0,e)),Object(Q.a)(a.state.options.slice(e+1)));a.setState({options:n})}},a.addOption=function(e){if(e.preventDefault(),Number(e.target.id)===Number(a.state.size)){var t=a.state.options.concat([""]);a.setState({options:t,size:a.state.size+1})}},a.onSubmit=function(e){if(e.preventDefault(),""!==a.state.title){var t=[],n=a.state.title,l=a.state.public;for(var o in a.state.options)""!==a.state.options[o]&&t.push({text:a.state.options[o]});if(0!==t.length){var r={title:n,options:t,public:l};a.props.postPoll(r)}else alert("Please enter at least one question.")}else alert("Please enter a title.")},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.poll&&this.props.history.push("/poll/".concat(e.poll._id))}},{key:"render",value:function(){var e=this;return l.a.createElement(n.Fragment,null,l.a.createElement("div",null,l.a.createElement(w.a,{size:"huge",color:"orange"},"Creating Poll"),l.a.createElement(q.a,null,l.a.createElement(P.a,null,l.a.createElement(U.a,null,l.a.createElement(U.a.Field,null,l.a.createElement("input",{placeholder:"Your Question",name:"title",onChange:this.handleTitle,value:this.state.title,type:"text"})),l.a.createElement(U.a.Field,null,this.state.options.map(function(t,a){return l.a.createElement("div",{key:a},l.a.createElement("input",{type:"text",placeholder:"Poll Option #"+(a+1),onChange:e.handleText(a),value:t,onClick:e.addOption,onFocus:e.addOption,id:a,style:{marginTop:"20px"}}),l.a.createElement("br",null))})),l.a.createElement(U.a.Field,null,l.a.createElement(J.a,{label:"Public",name:"public",onChange:function(){return e.handleToggle()}})),l.a.createElement(K.a,{type:"submit",color:"orange",size:"huge",onClick:this.onSubmit},"Create"))))))}}]),t}(n.Component)),$=Object(d.b)(function(e){return{poll:e.polls.poll}},{postPoll:function(e){return function(t){G.a.post("api/polls/",e).then(function(e){return t({type:"POST_POLL",payload:e.data})}).catch(function(e){return t({type:"GET_ERRORS",payload:"Title required"})})}}})(Y),X=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(A,null,l.a.createElement($,{history:this.props.history})))}}]),t}(n.Component),Z=a(381),ee=a(89),te=a(184),ae=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={loading:!0,data:[]},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.props.getPoll(this.props.id)}},{key:"componentWillReceiveProps",value:function(e){var t=[],a=[];for(var n in e.poll.options)t.push(e.poll.options[n].text),a.push(e.poll.options[n].voterCount);var l={labels:t,datasets:[{label:"Votes",backgroundColor:"orange",borderColor:"rgba(255,99,132,1)",borderWidth:1,hoverBackgroundColor:"yellow",hoverBorderColor:"yellow",data:a}],options:{responsive:!0,maintainAspectRatio:!0}};this.setState({data:l,loading:!1})}},{key:"render",value:function(){return l.a.createElement("div",null,this.state.loading?l.a.createElement(M,null):l.a.createElement(q.a,null,this.props.voted&&l.a.createElement(Z.a,{color:"teal"},"Your Vote Has Been Recorded!"),l.a.createElement(w.a,{textAlign:"center"},this.props.poll&&this.props.poll.title),l.a.createElement(te.a,{data:this.state.data,height:80}),l.a.createElement(ee.a,{color:"white"},l.a.createElement(T.a,{color:"orange",name:"eye"}),this.props.poll&&this.props.poll.views),l.a.createElement(ee.a,null,l.a.createElement(T.a,{color:"orange",name:"calendar"}),this.props.poll&&this.props.poll.date.substring(0,10)),l.a.createElement(ee.a,null,l.a.createElement(T.a,{color:"orange",name:"linkify"}),"http://briskpoller.herokuapp.com/poll/",this.props.poll&&this.props.poll._id)))}}]),t}(n.Component),ne=Object(d.b)(function(e){return{poll:e.polls.poll}},{getPoll:H})(ae),le=a(118),oe=a.n(le),re=a(186),ie=a(379),ce=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).vote=function(){var e=Object(re.a)(oe.a.mark(function e(t){var n;return oe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n={option:t},a.props.putVote(a.props.id,n);case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.props.getPoll(this.props.id)}},{key:"componentWillReceiveProps",value:function(e){e.poll&&this.props.getCheck(this.props.id)}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,this.props.poll&&l.a.createElement("div",null,"  ",l.a.createElement(w.a,null," Should I meme? "),l.a.createElement(ie.a,{celled:!0,selectable:!0,size:"large"},l.a.createElement(ie.a.Header,null,l.a.createElement(ie.a.Row,null,l.a.createElement(ie.a.HeaderCell,{textAlign:"center"},this.props.poll.title))),l.a.createElement(ie.a.Body,null,this.props.poll.options&&this.props.poll.options.map(function(t){return l.a.createElement(ie.a.Row,null,l.a.createElement(ie.a.Cell,{id:t._id,onClick:function(){e.vote(t._id)}},t.text))})))))}}]),t}(n.Component),se=Object(d.b)(function(e){return{poll:e.polls.poll}},{getPoll:H,putVote:function(e,t){return function(a){G.a.put("api/polls/vote/".concat(e),t).then(function(e){return a({type:"PUT_VOTE",payload:e.data})}).catch(function(e){return a({type:"GET_ERRORS",payload:"No option with that name."})})}},getCheck:N})(ce),ue=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={loading:!0},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.props.getCheck(this.props.match.params.id)}},{key:"componentWillReceiveProps",value:function(e){e.available&&this.setState({loading:!1})}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(A,null,this.state.loading?l.a.createElement(M,null):this.props.available&&!this.props.available.voted?l.a.createElement(se,{id:this.props.match.params.id,history:this.props.history}):l.a.createElement(ne,{id:this.props.match.params.id,voted:this.props.available})))}}]),t}(n.Component),pe=Object(d.b)(function(e){return{available:e.polls.available}},{getCheck:N})(ue),me=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={column:null,data:[],direction:null,itemsPerPage:15,currentPage:0,totalItems:0,activeItem:0,loading:!0},a.handleQuestionClick=function(e){a.props.history.push("/poll/".concat(e))},a.handleItemClick=function(e,t){var n=t.name;a.setState({activeItem:n})},a.handleNextClick=function(){a.state.activeItem!==Math.floor(a.state.totalItems/a.state.itemsPerPage)-1&&a.state.itemsPerPage<a.state.totalItems&&a.setState({activeItem:a.state.activeItem+1})},a.handleBackClick=function(){0!==a.state.activeItem&&a.state.itemsPerPage<a.state.totalItems&&a.setState({activeItem:a.state.activeItem-1})},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.props.getPolls()}},{key:"componentWillReceiveProps",value:function(e){var t=[];if(e.polls){for(var a in e.polls){var n=e.polls[a].title,l=e.polls[a].views,o=e.polls[a].date.substring(0,10),r=e.polls[a]._id;t.push({title:n,views:l,date:o,id:r})}this.setState({data:t,totalItems:e.polls.length,loading:!1})}}},{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.activeItem;return this.state.loading?l.a.createElement(M,null):l.a.createElement(q.a,null,l.a.createElement(w.a,{color:"orange"},"Displaying Polls ",this.state.activeItem*this.state.itemsPerPage+1,"  to ",this.state.activeItem*this.state.itemsPerPage+this.state.itemsPerPage),l.a.createElement(ie.a,{celled:!0,selectable:!0},l.a.createElement(ie.a.Header,null,l.a.createElement(ie.a.Row,null,l.a.createElement(ie.a.HeaderCell,null,"Question"),l.a.createElement(ie.a.HeaderCell,null,"Viewers"),l.a.createElement(ie.a.HeaderCell,null,"Date"))),l.a.createElement(ie.a.Body,null,a.slice(Math.floor(this.state.activeItem*this.state.itemsPerPage),Math.floor(this.state.activeItem*this.state.itemsPerPage+this.state.itemsPerPage)).map(function(t){return l.a.createElement(l.a.Fragment,null,l.a.createElement(ie.a.Row,{onClick:function(){return e.handleQuestionClick(t.id)}},l.a.createElement(ie.a.Cell,null,t.title),l.a.createElement(ie.a.Cell,null,t.views),l.a.createElement(ie.a.Cell,null,t.date.substring(0,10))))})),l.a.createElement(ie.a.Footer,null,l.a.createElement(ie.a.Row,null,l.a.createElement(ie.a.HeaderCell,{colSpan:"3"},l.a.createElement(R.a,{floated:"right",pagination:!0},l.a.createElement(R.a.Item,{as:"a",icon:!0,onClick:this.handleBackClick},l.a.createElement(T.a,{name:"chevron left"})),Object(Q.a)(Array(Math.floor(this.state.totalItems/this.state.itemsPerPage))).map(function(t,a){return l.a.createElement(R.a.Item,{name:a,active:n===a,onClick:e.handleItemClick},a+1)}),l.a.createElement(R.a.Item,{as:"a",icon:!0,onClick:this.handleNextClick},l.a.createElement(T.a,{name:"chevron right"}))))))))}}]),t}(n.Component),he=Object(d.b)(function(e){return{polls:e.polls.polls}},{getPolls:L})(me),de=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(A,null,l.a.createElement(he,{history:this.props.history})))}}]),t}(n.Component),ve=(a(363),function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement(d.a,{store:j},l.a.createElement(m.a,null,l.a.createElement("div",{className:"App"},l.a.createElement(h.a,{exact:!0,path:"/",component:V}),l.a.createElement("div",{className:"container"},l.a.createElement(h.a,{exact:!0,path:"/create",component:X}),l.a.createElement(h.a,{path:"/poll/:id",component:pe}),l.a.createElement(h.a,{path:"/polls/",component:de})))))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(ve,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[199,1,2]]]);
//# sourceMappingURL=main.42adc260.chunk.js.map